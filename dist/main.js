(()=>{"use strict";const e={tasks:[],getInput(e){const t=document.querySelector('input[name="priority"]:checked').value;return(({name:e,details:t,dueDate:s,list:a,priority:n})=>({name:e,details:t,dueDate:s,list:a,priority:n}))({name:e.elements[0].value,details:e.elements[1].value,dueDate:e.elements[2].value,list:e.elements[3].value,priority:t})},getIndex(e){return this.tasks.indexOf(e)},getTask(e){const t=e.dataset.value;return this.tasks[t]},addTask(e){this.tasks.push(e)},removeTask(e){const t=e.dataset.value;this.tasks.splice(t,1)},replaceTask(e,t){const s=this.getIndex(e);return this.tasks[s]=t,s}},t={lists:[],getInput:e=>e.elements[0].value,addList(e){this.lists.push(e)},listExists(e){if(this.lists.includes(e))return!0}},s={toggleDisplay(e){e.classList.toggle("no-display")},toggleStrikethrough(e){e.classList.toggle("strikethrough")},addTask(t){const s=document.createElement("tr");(()=>{const a=document.querySelector(".tasks"),n=e.getIndex(t);0===n&&(this.toggleDisplay(document.querySelector(".table-hdrs")),this.toggleDisplay(document.querySelector("h1"))),a.appendChild(s),s.classList.add(t.priority,"task"),s.dataset.value=n})(),(()=>{const e=document.createElement("td"),t=document.createElement("input");s.appendChild(e),e.appendChild(t),t.setAttribute("type","checkbox"),t.classList.add("checkbox")})(),(()=>{const e=document.createElement("td");s.appendChild(e),e.textContent=t.name})(),(()=>{const e=document.createElement("td");s.appendChild(e),e.textContent=t.dueDate})(),(()=>{const e=document.createElement("td"),t=document.createElement("i");s.appendChild(e),e.appendChild(t),t.classList.add("fas","fa-edit","edit-task")})(),(()=>{const e=document.createElement("td"),t=document.createElement("i");s.appendChild(e),e.appendChild(t),t.classList.add("fas","fa-trash-alt","delete-task")})()},addList(e){const t=document.createElement("option"),s=document.querySelector("#select-list");t.textContent=e;const a=document.querySelector("#select-list2"),n=document.createElement("option");n.textContent=e,s.appendChild(t),a.appendChild(n);const l=document.createElement("li");document.querySelector(".lists").appendChild(l),l.textContent=e},removeTask(e){e.remove(),this.recalibrateIndex()},recalibrateIndex(){const e=document.querySelectorAll(".task");if(e.length>0){let t=0;e.forEach((e=>{e.dataset.value=t,t++}))}else this.toggleDisplay(document.querySelector(".table-hdrs")),this.toggleDisplay(document.querySelector("h1"))},populateForm(e){const t=document.querySelector(".new-task-form");let s=0;for(const a in e)t.elements[s].value=e[a],s++},replaceTask(e,t){const s=document.querySelector(`[data-value="${e}"]`),a=s.childNodes[1],n=s.childNodes[2];a.textContent=t.name,n.textContent=t.dueDate}};(()=>{let a;document.addEventListener("click",(n=>{const l=n.target;switch(!0){case l.classList.contains("drop-down"):s.toggleDisplay(l.lastElementChild);break;case l.classList.contains("fa-caret-down"):s.toggleDisplay(l.nextElementSibling);break;case l.classList.contains("new-task"):s.toggleDisplay(document.querySelector(".submit-task")),s.toggleDisplay(document.querySelector(".new-task-form"));break;case l.classList.contains("new-list"):s.toggleDisplay(document.querySelector(".new-list-form"));break;case l.classList.contains("submit-task-edit"):n.preventDefault();const o=document.querySelector(".new-task-form"),c=e.getInput(o),i=c.list;t.listExists(i)||(t.addList(i),s.addList(i));const d=e.replaceTask(a,c);s.replaceTask(d,c),o.reset(),s.toggleDisplay(o),s.toggleDisplay(l);break;case l.classList.contains("submit-task"):n.preventDefault();const r=document.querySelector(".new-task-form");a=e.getInput(r);const u=a.list;t.listExists(u)||(t.addList(u),s.addList(u)),e.addTask(a),s.addTask(a),r.reset(),s.toggleDisplay(r),s.toggleDisplay(l);break;case l.classList.contains("submit-list"):n.preventDefault();const m=document.querySelector(".new-list-form"),p=t.getInput(m);t.listExists(p)||(t.addList(p),s.addList(p)),m.reset(),s.toggleDisplay(m);break;case l.classList.contains("checkbox"):s.toggleStrikethrough(l.parentNode.parentNode);break;case l.classList.contains("delete-task"):const g=l.parentNode.parentNode;e.removeTask(g),s.removeTask(g);break;case l.classList.contains("edit-task"):s.toggleDisplay(document.querySelector(".submit-task-edit")),s.toggleDisplay(document.querySelector(".new-task-form")),a=e.getTask(l.parentNode.parentNode),s.populateForm(a)}}))})()})();